{"ast":null,"code":"var _jsxFileName = \"/Users/nicholaspatrikeos/Sites/Gallifrey4.0/gallifrey-frontend/src/pages/ClassesListPageStudent.js\";\nimport React from 'react';\nimport axios from 'axios';\nimport Layout from '../components/Layout';\nimport ClassesList from '../components/ClassesList';\nimport '../App.css';\nimport { Link } from 'react-router-dom';\n\nfunction ClassesListPageStudent(props) {\n  const [classes, setClasses] = React.useState([]);\n  const token = React.useContext(AuthContext);\n\n  const fetchClassesData = () => {\n    const getClasses = axios.get('/classes/list', {\n      params: {\n        token\n      }\n    }).then(classResponse => {\n      const classData = classResponse.data.classes;\n      console.log(classData);\n      setClasses(classData);\n    }).catch(err => {});\n  };\n\n  const step = useStep(fetchClassesData, [], 2);\n  return /*#__PURE__*/React.createElement(Layout, {\n    navtype: \"student\",\n    body: /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 26,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"table\", {\n      id: \"classList\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 27,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 28,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 28,\n        columnNumber: 23\n      }\n    }, \"Title\"), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 28,\n        columnNumber: 37\n      }\n    }, \"Year\"), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 28,\n        columnNumber: 50\n      }\n    }, \"Course\"), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 28,\n        columnNumber: 65\n      }\n    }, \"Teachers\"), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 28,\n        columnNumber: 82\n      }\n    }, \"Actions\")), classes.map(({\n      class_id,\n      name,\n      year,\n      course,\n      teachers\n    }, index) => /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 30,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 31,\n        columnNumber: 23\n      }\n    }, name), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 32,\n        columnNumber: 23\n      }\n    }, year), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 33,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(Link, {\n      to: {\n        pathname: '/courses/manage',\n        course_id: course.course_id\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 33,\n        columnNumber: 27\n      }\n    }, course.name)), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 23\n      }\n    }, teachers.map((name, index) => /*#__PURE__*/React.createElement(React.Fragment, null, name, index != teachers.length - 1 ? ', ' : ''))), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(Link, {\n      to: {\n        pathname: '/classes/manage',\n        class_id: class_id\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 25\n      }\n    }, \"Manage \"), /*#__PURE__*/React.createElement(Link, {\n      to: {\n        pathname: '/classes/edit',\n        class_id: class_id\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 25\n      }\n    }, \"Edit \"), /*#__PURE__*/React.createElement(Link, {\n      onClick: () => deleteClass(class_id),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 25\n      }\n    }, \"Delete\")))))),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 25,\n      columnNumber: 9\n    }\n  });\n}\n\nexport default ClassesListPageStudent;","map":{"version":3,"sources":["/Users/nicholaspatrikeos/Sites/Gallifrey4.0/gallifrey-frontend/src/pages/ClassesListPageStudent.js"],"names":["React","axios","Layout","ClassesList","Link","ClassesListPageStudent","props","classes","setClasses","useState","token","useContext","AuthContext","fetchClassesData","getClasses","get","params","then","classResponse","classData","data","console","log","catch","err","step","useStep","map","class_id","name","year","course","teachers","index","pathname","course_id","length","deleteClass"],"mappings":"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","sourcesContent":["import React from 'react'\nimport axios from 'axios'\nimport Layout from '../components/Layout'\nimport ClassesList from '../components/ClassesList'\nimport '../App.css'\nimport { Link } from 'react-router-dom'\n\nfunction ClassesListPageStudent(props) {\n    const [classes, setClasses] = React.useState([])\n    const token = React.useContext(AuthContext)\n\n    const fetchClassesData = () => {\n      const getClasses = axios.get('/classes/list', {params: { token }})\n        .then((classResponse) => {\n          const classData = classResponse.data.classes\n          console.log(classData)\n          setClasses(classData)\n        })\n        .catch((err) => {})\n    }\n\n    const step = useStep(fetchClassesData, [], 2)\n\n    return (\n        <Layout navtype='student' body={\n          <div>\n              <table id='classList'>\n                  <tr><td>Title</td><td>Year</td><td>Course</td><td>Teachers</td><td>Actions</td></tr>\n                  {classes.map(({ class_id, name, year, course, teachers }, index) => (\n                    <tr>\n                      <td>{name}</td>\n                      <td>{year}</td>\n                      <td><Link to={{\n                        pathname: '/courses/manage',\n                        course_id: course.course_id\n                      }}>{course.name}</Link></td>\n                      <td>{teachers.map((name, index) => (<>{name}{ (index != teachers.length - 1) ? ', ':  ''}</>))}</td>\n                      <td>\n                        <Link to={{\n                          pathname: '/classes/manage',\n                          class_id: class_id\n                        }}>Manage </Link>\n                        <Link to={{\n                          pathname: '/classes/edit',\n                          class_id: class_id,\n                        }}>Edit </Link>\n                        <Link onClick={() => deleteClass(class_id)}>Delete</Link>\n                      </td>\n                    </tr>\n                  ))}\n              </table>\n          </div>\n      }/>\n    );\n}\n\nexport default ClassesListPageStudent\n"]},"metadata":{},"sourceType":"module"}