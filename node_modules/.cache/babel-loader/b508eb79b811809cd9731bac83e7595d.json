{"ast":null,"code":"var _jsxFileName = \"/Users/nicholaspatrikeos/Sites/Gallifrey4.0/gallifrey-frontend/src/components/Manage.js\";\nimport React from 'react';\nimport axios from 'axios';\nimport { Link } from 'react-router-dom';\nimport '../App.css';\nimport AuthContext from '../AuthContext';\nimport { useStep } from '../utils/update';\n\nfunction Manage({\n  type,\n  object_id\n}) {\n  var headerTitle;\n  const [topic, setTopic] = React.useState({\n    name: \"\",\n    topic_id: 0,\n    taskgroups: []\n  });\n  const token = React.useContext(AuthContext);\n  console.log(object_id);\n\n  const fetchTopicData = () => {\n    const getTopic = axios.get('/topics/details', {\n      params: {\n        token,\n        object_id\n      }\n    }).then(topicResponse => {\n      const topicData = topicResponse.data.topic;\n      console.log(topicData);\n      setTopic(topicData);\n      console.log(topic);\n    });\n  };\n\n  const step = useStep(fetchTopicData, [], 2);\n\n  if (type == 'topic') {\n    headerTitle = 'Topic Management';\n  } else {}\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"headerSection\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 9\n    }\n  }, headerTitle)), /*#__PURE__*/React.createElement(\"h4\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 7\n    }\n  }, \"Title\"), /*#__PURE__*/React.createElement(\"p\", {\n    id: \"topicTitle\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 7\n    }\n  }, topic.name), /*#__PURE__*/React.createElement(\"h4\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 7\n    }\n  }, \"Courses\"), /*#__PURE__*/React.createElement(\"p\", {\n    id: \"topicCourses\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 7\n    }\n  }, \"##TODO\"), /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 7\n    }\n  }, \"Task Groups\"), /*#__PURE__*/React.createElement(Link, {\n    to: \"/taskgroups/add\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    class: \"teacherButton\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 9\n    }\n  }, \"New Task Group\")), /*#__PURE__*/React.createElement(\"div\", {\n    class: \"teacherButton\",\n    id: \"reorderTaskGroupsButton\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 7\n    }\n  }, \"Reorder Task Groups\"), /*#__PURE__*/React.createElement(\"hr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"table\", {\n    id: \"taskGroupList\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 15\n    }\n  }, \"Title\"), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 29\n    }\n  }, \"Tasks\"), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 43\n    }\n  }, \"Actions\")), topic.taskgroups.map(({\n    taskgroup_id,\n    name,\n    tasks\n  }, index) => /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 15\n    }\n  }, name), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 15\n    }\n  }, tasks.length), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: \"/taskgroups/edit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 17\n    }\n  }, \"Edit\"), /*#__PURE__*/React.createElement(Link, {\n    to: \"/taskgroups/move\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 17\n    }\n  }, \"Move\"), /*#__PURE__*/React.createElement(Link, {\n    to: \"/taskgroups/delete\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 17\n    }\n  }, \"Delete\"))))));\n}\n\nexport default Manage;","map":{"version":3,"sources":["/Users/nicholaspatrikeos/Sites/Gallifrey4.0/gallifrey-frontend/src/components/Manage.js"],"names":["React","axios","Link","AuthContext","useStep","Manage","type","object_id","headerTitle","topic","setTopic","useState","name","topic_id","taskgroups","token","useContext","console","log","fetchTopicData","getTopic","get","params","then","topicResponse","topicData","data","step","map","taskgroup_id","tasks","index","length"],"mappings":"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","sourcesContent":["import React from 'react'\nimport axios from 'axios'\nimport { Link } from 'react-router-dom'\nimport '../App.css'\nimport AuthContext from '../AuthContext'\nimport { useStep } from '../utils/update'\n\nfunction Manage({ type, object_id }) {\n  var headerTitle;\n  const [topic, setTopic] = React.useState({ name: \"\", topic_id: 0, taskgroups: []})\n  const token = React.useContext(AuthContext)\n\n  console.log(object_id)\n  const fetchTopicData = () => {\n    const getTopic = axios.get('/topics/details', {params: { token, object_id }})\n    .then((topicResponse) => {\n      const topicData = topicResponse.data.topic\n      console.log(topicData)\n      setTopic(topicData)\n      console.log(topic)\n    })\n  }\n\n  const step = useStep(fetchTopicData, [], 2)\n\n  if (type == 'topic') {\n    headerTitle = 'Topic Management'\n  } else {}\n\n  return (\n    <>\n      <div className='headerSection'>\n        <h1>{headerTitle}</h1>\n      </div>\n\n      <h4>Title</h4>\n      <p id='topicTitle'>{topic.name}</p>\n      <h4>Courses</h4>\n      <p id='topicCourses'>##TODO</p>\n\n      <h2>Task Groups</h2>\n      <Link to='/taskgroups/add'>\n        <div class='teacherButton'>New Task Group</div>\n      </Link>\n      <div class='teacherButton' id='reorderTaskGroupsButton'>Reorder Task Groups</div>\n\n      <hr />\n\n      <table id='taskGroupList'>\n          <tr><td>Title</td><td>Tasks</td><td>Actions</td></tr>\n          {topic.taskgroups.map(({ taskgroup_id, name, tasks}, index) => (\n            <tr>\n              <td>{name}</td>\n              <td>{tasks.length}</td>\n              <td>\n                <Link to='/taskgroups/edit'>Edit</Link>\n                <Link to='/taskgroups/move'>Move</Link>\n                <Link to='/taskgroups/delete'>Delete</Link>\n              </td>\n            </tr>\n          ))}\n      </table>\n\n    </>\n  )\n}\n\nexport default Manage\n"]},"metadata":{},"sourceType":"module"}