{"ast":null,"code":"var _jsxFileName = \"/Users/nicholaspatrikeos/Sites/Gallifrey4.0/gallifrey-frontend/src/pages/StudentDashboardPage.js\";\nimport React from 'react';\nimport Layout from '../components/Layout';\nimport axios from 'axios';\nimport { Link } from 'react-router-dom';\nimport AuthContext from '../AuthContext';\nimport { useStep } from '../utils/update';\n\nfunction StudentDashboardPage(props) {\n  const [classes, setClasses] = React.useState([]);\n  const token = React.useContext(AuthContext);\n\n  const fetchClassesData = () => {\n    const getClasses = axios.get('/classes/student', {\n      params: {\n        token\n      }\n    }).then(classResponse => {\n      const classData = classResponse.data.classes;\n      console.log(classData);\n      setClasses(classData);\n    }).catch(err => {});\n  };\n\n  const step = useStep(fetchClassesData, [], 2);\n  return /*#__PURE__*/React.createElement(Layout, {\n    navtype: \"student\",\n    body: /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n      class: \"headerSection\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 29,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 30,\n        columnNumber: 13\n      }\n    }, \"Dashboard\")), /*#__PURE__*/React.createElement(\"hr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 33,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      id: \"enrolments\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 35,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"h3\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 36,\n        columnNumber: 13\n      }\n    }, \"My Enrolments\"), classes.map(({\n      class_id,\n      course,\n      name,\n      teachers,\n      progress\n    }, index) => /*#__PURE__*/React.createElement(\"div\", {\n      className: \"enrolmentBox\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"h3\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 17\n      }\n    }, name), \" with \", teachers.map(({\n      name\n    }, index) => /*#__PURE__*/React.createElement(React.Fragment, null, name, index != teachers.length - 1 ? ', ' : '', \" \")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"progressDash\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 17\n      }\n    }, progress.map(({\n      student,\n      unmarked,\n      correct,\n      incorrect\n    }, index) => /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"unmarkedDash\",\n      style: {\n        width: +progress.unmarked + '%;'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"correctDash\",\n      style: {\n        width: +progress.correct + '%;'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"incorrectDash\",\n      style: {\n        width: +progress.incorrect + '%;'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 21\n      }\n    })))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"studentButton\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Link, {\n      to: {\n        pathname: '/courses/view/student',\n        course_id: course.course_id\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 19\n      }\n    }, \"View Class\")))))),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 26,\n      columnNumber: 5\n    }\n  });\n}\n\nexport default StudentDashboardPage;","map":{"version":3,"sources":["/Users/nicholaspatrikeos/Sites/Gallifrey4.0/gallifrey-frontend/src/pages/StudentDashboardPage.js"],"names":["React","Layout","axios","Link","AuthContext","useStep","StudentDashboardPage","props","classes","setClasses","useState","token","useContext","fetchClassesData","getClasses","get","params","then","classResponse","classData","data","console","log","catch","err","step","map","class_id","course","name","teachers","progress","index","length","student","unmarked","correct","incorrect","width","pathname","course_id"],"mappings":"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","sourcesContent":["import React from 'react'\nimport Layout from '../components/Layout'\nimport axios from 'axios'\nimport { Link } from 'react-router-dom';\nimport AuthContext from '../AuthContext'\nimport { useStep } from '../utils/update'\n\nfunction StudentDashboardPage(props) {\n\n  const [classes, setClasses] = React.useState([])\n  const token = React.useContext(AuthContext)\n\n  const fetchClassesData = () => {\n    const getClasses = axios.get('/classes/student', {params: { token }})\n      .then((classResponse) => {\n        const classData = classResponse.data.classes\n        console.log(classData)\n        setClasses(classData)\n      })\n      .catch((err) => {})\n  }\n\n  const step = useStep(fetchClassesData, [], 2)\n\n  return (\n    <Layout navtype='student'\n    body={\n      <>\n        <div class='headerSection'>\n            <h1>Dashboard</h1>\n        </div>\n\n        <hr/>\n\n        <div id='enrolments'>\n            <h3>My Enrolments</h3>\n            {classes.map(({ class_id, course, name, teachers, progress }, index) => (\n              <div className='enrolmentBox'>\n                <h3>{name}</h3> with {\n                  teachers.map(({name}, index) => (<>{name}{ (index != teachers.length - 1) ? ', ' : ''} </>))\n                }\n\n                <div className='progressDash'>\n                {progress.map(({ student, unmarked, correct, incorrect}, index) => (\n                  <>\n                    <div className='unmarkedDash' style={{width:  + progress.unmarked + '%;'}}></div>\n                    <div className='correctDash' style={{width:  + progress.correct + '%;'}}></div>\n                    <div className='incorrectDash' style={{width:  + progress.incorrect + '%;'}}></div>\n                  </>\n                ))}\n                </div>\n                <div className='studentButton'>\n                  <Link to={{\n                    pathname: '/courses/view/student',\n                    course_id: course.course_id,\n                  }}>View Class</Link></div>\n              </div>\n            ))}\n        </div>\n      </>\n    }/>\n  )\n}\n\nexport default StudentDashboardPage\n"]},"metadata":{},"sourceType":"module"}