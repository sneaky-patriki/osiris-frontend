{"ast":null,"code":"var _jsxFileName = \"/Users/nicholaspatrikeos/Sites/Gallifrey4.0/gallifrey-frontend/src/pages/ClassesListPageStudent.js\";\nimport React from 'react';\nimport axios from 'axios';\nimport Layout from '../components/Layout';\nimport ClassesList from '../components/ClassesList';\nimport '../App.css';\nimport AuthContext from '../AuthContext';\nimport { useStep } from '../utils/update';\nimport { Link } from 'react-router-dom';\n\nfunction ClassesListPageStudent(props) {\n  const [classes, setClasses] = React.useState([]);\n  const token = React.useContext(AuthContext);\n\n  const fetchClassesData = () => {\n    const getClasses = axios.get('/classes/list', {\n      params: {\n        token\n      }\n    }).then(classResponse => {\n      const classData = classResponse.data.classes;\n      console.log(classData);\n      setClasses(classData);\n    }).catch(err => {});\n  };\n\n  const step = useStep(fetchClassesData, [], 2);\n  return /*#__PURE__*/React.createElement(Layout, {\n    navtype: \"student\",\n    body: /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n      class: \"headerSection\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 29,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 30,\n        columnNumber: 19\n      }\n    }, \"All Classes\")), /*#__PURE__*/React.createElement(\"hr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 32,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      id: \"enrolments\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 33,\n        columnNumber: 15\n      }\n    }, classes.map(({\n      class_id,\n      course,\n      name,\n      teachers,\n      progress\n    }, index) => /*#__PURE__*/React.createElement(\"div\", {\n      className: \"enrolmentBox\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 35,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"h3\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 36,\n        columnNumber: 23\n      }\n    }, name), \" with \", teachers.map(({\n      name\n    }, index) => /*#__PURE__*/React.createElement(React.Fragment, null, name, index != teachers.length - 1 ? ', ' : '', \" \")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"studentButton\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(Link, {\n      to: {\n        pathname: '/courses/view/student',\n        course_id: course.course_id\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 25\n      }\n    }, \"View Class\")))))),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 27,\n      columnNumber: 9\n    }\n  });\n}\n\nexport default ClassesListPageStudent;","map":{"version":3,"sources":["/Users/nicholaspatrikeos/Sites/Gallifrey4.0/gallifrey-frontend/src/pages/ClassesListPageStudent.js"],"names":["React","axios","Layout","ClassesList","AuthContext","useStep","Link","ClassesListPageStudent","props","classes","setClasses","useState","token","useContext","fetchClassesData","getClasses","get","params","then","classResponse","classData","data","console","log","catch","err","step","map","class_id","course","name","teachers","progress","index","length","pathname","course_id"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,MAAP,MAAmB,sBAAnB;AACA,OAAOC,WAAP,MAAwB,2BAAxB;AACA,OAAO,YAAP;AACA,OAAOC,WAAP,MAAwB,gBAAxB;AACA,SAASC,OAAT,QAAwB,iBAAxB;AACA,SAASC,IAAT,QAAqB,kBAArB;;AAEA,SAASC,sBAAT,CAAgCC,KAAhC,EAAuC;AACnC,QAAM,CAACC,OAAD,EAAUC,UAAV,IAAwBV,KAAK,CAACW,QAAN,CAAe,EAAf,CAA9B;AACA,QAAMC,KAAK,GAAGZ,KAAK,CAACa,UAAN,CAAiBT,WAAjB,CAAd;;AAEA,QAAMU,gBAAgB,GAAG,MAAM;AAC7B,UAAMC,UAAU,GAAGd,KAAK,CAACe,GAAN,CAAU,eAAV,EAA2B;AAACC,MAAAA,MAAM,EAAE;AAAEL,QAAAA;AAAF;AAAT,KAA3B,EAChBM,IADgB,CACVC,aAAD,IAAmB;AACvB,YAAMC,SAAS,GAAGD,aAAa,CAACE,IAAd,CAAmBZ,OAArC;AACAa,MAAAA,OAAO,CAACC,GAAR,CAAYH,SAAZ;AACAV,MAAAA,UAAU,CAACU,SAAD,CAAV;AACD,KALgB,EAMhBI,KANgB,CAMTC,GAAD,IAAS,CAAE,CAND,CAAnB;AAOD,GARD;;AAUA,QAAMC,IAAI,GAAGrB,OAAO,CAACS,gBAAD,EAAmB,EAAnB,EAAuB,CAAvB,CAApB;AAEA,sBACI,oBAAC,MAAD;AAAQ,IAAA,OAAO,EAAC,SAAhB;AAA0B,IAAA,IAAI,eAC5B,uDACI;AAAK,MAAA,KAAK,EAAC,eAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBADJ,CADJ,eAII;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAJJ,eAKI;AAAK,MAAA,EAAE,EAAC,YAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACKL,OAAO,CAACkB,GAAR,CAAY,CAAC;AAAEC,MAAAA,QAAF;AAAYC,MAAAA,MAAZ;AAAoBC,MAAAA,IAApB;AAA0BC,MAAAA,QAA1B;AAAoCC,MAAAA;AAApC,KAAD,EAAiDC,KAAjD,kBACX;AAAK,MAAA,SAAS,EAAC,cAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAKH,IAAL,CADF,YAEIC,QAAQ,CAACJ,GAAT,CAAa,CAAC;AAACG,MAAAA;AAAD,KAAD,EAASG,KAAT,kBAAoB,0CAAGH,IAAH,EAAWG,KAAK,IAAIF,QAAQ,CAACG,MAAT,GAAkB,CAA5B,GAAiC,IAAjC,GAAwC,EAAlD,MAAjC,CAFJ,eAKE;AAAK,MAAA,SAAS,EAAC,eAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,IAAD;AAAM,MAAA,EAAE,EAAE;AACRC,QAAAA,QAAQ,EAAE,uBADF;AAERC,QAAAA,SAAS,EAAEP,MAAM,CAACO;AAFV,OAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBADF,CALF,CADD,CADL,CALJ,CADF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ;AAyBH;;AAED,eAAe7B,sBAAf","sourcesContent":["import React from 'react'\nimport axios from 'axios'\nimport Layout from '../components/Layout'\nimport ClassesList from '../components/ClassesList'\nimport '../App.css'\nimport AuthContext from '../AuthContext'\nimport { useStep } from '../utils/update'\nimport { Link } from 'react-router-dom'\n\nfunction ClassesListPageStudent(props) {\n    const [classes, setClasses] = React.useState([])\n    const token = React.useContext(AuthContext)\n\n    const fetchClassesData = () => {\n      const getClasses = axios.get('/classes/list', {params: { token }})\n        .then((classResponse) => {\n          const classData = classResponse.data.classes\n          console.log(classData)\n          setClasses(classData)\n        })\n        .catch((err) => {})\n    }\n\n    const step = useStep(fetchClassesData, [], 2)\n\n    return (\n        <Layout navtype='student' body={\n          <>\n              <div class='headerSection'>\n                  <h1>All Classes</h1>\n              </div>\n              <hr/>\n              <div id='enrolments'>\n                  {classes.map(({ class_id, course, name, teachers, progress }, index) => (\n                    <div className='enrolmentBox'>\n                      <h3>{name}</h3> with {\n                        teachers.map(({name}, index) => (<>{name}{ (index != teachers.length - 1) ? ', ' : ''} </>))\n                      }\n\n                      <div className='studentButton'>\n                        <Link to={{\n                          pathname: '/courses/view/student',\n                          course_id: course.course_id,\n                        }}>View Class</Link></div>\n                    </div>\n                  ))}\n             </div>\n        </>\n      }/>\n    );\n}\n\nexport default ClassesListPageStudent\n"]},"metadata":{},"sourceType":"module"}