{"ast":null,"code":"var _jsxFileName = \"/Users/nicholaspatrikeos/Sites/Gallifrey4.0/gallifrey-frontend/src/components/ManageCourse.js\";\nimport React from 'react';\nimport axios from 'axios';\nimport { Link } from 'react-router-dom';\nimport '../App.css';\nimport AuthContext from '../AuthContext';\nimport { useStep } from '../utils/update';\nimport { startReorder, finishReorder } from '../utils/helperFunctions';\n\nfunction ManageCourse({\n  course_id\n}, ...props) {\n  const [course, setCourse] = React.useState({\n    course_id: 0,\n    name: \"\",\n    modules: []\n  });\n  const token = React.useContext(AuthContext);\n\n  const fetchCourseData = () => {\n    const getCourse = axios.get('/courses/details', {\n      params: {\n        token,\n        course_id\n      }\n    }).then(courseResponse => {\n      const courseData = courseResponse.data.course;\n      console.log(courseData);\n      setCourse(courseData);\n    }).catch(err => {});\n  };\n\n  function removeTopic(topic_id) {\n    axios.delete('/courses/topics/delete', {\n      data: {\n        token,\n        topic_id\n      }\n    }).then(response => {\n      const data = response.data;\n      console.log(data);\n      window.location.reload();\n    }).catch(err => {});\n  }\n\n  function reorderTopics() {}\n\n  const step = useStep(fetchCourseData, [], 2);\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"headerSection\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 9\n    }\n  }, \"Courses\")), /*#__PURE__*/React.createElement(\"h4\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 7\n    }\n  }, \"Title\"), /*#__PURE__*/React.createElement(\"p\", {\n    id: \"courseTitle\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 7\n    }\n  }, course.name), /*#__PURE__*/React.createElement(\"h4\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 7\n    }\n  }, \"Classes\"), /*#__PURE__*/React.createElement(\"p\", {\n    id: \"courseClasses\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 7\n    }\n  }, \"##TODO\"), /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 7\n    }\n  }, \"Topics\"), /*#__PURE__*/React.createElement(Link, {\n    to: {\n      pathname: '/courses/topics/add',\n      course_id: course_id,\n      course_name: course.name\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    class: \"teacherButton\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 9\n    }\n  }, \"Add Topic\")), /*#__PURE__*/React.createElement(\"div\", {\n    class: \"teacherButton\",\n    id: \"reorderTopicsButton\",\n    onClick: reorderTopics,\n    name: \"notReordering\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 7\n    }\n  }, \"Reorder Topics\"), /*#__PURE__*/React.createElement(\"hr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"table\", {\n    id: \"topicList\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"thead\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 18\n    }\n  }, \"Name\"), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 31\n    }\n  }, \"Topic\"), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 45\n    }\n  }, \"Actions\")), course.modules.map(({\n    topic_id,\n    topic_name,\n    module_id,\n    module_name\n  }, index) => /*#__PURE__*/React.createElement(\"tr\", {\n    id: topic_id,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 15\n    }\n  }, module_name), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 15\n    }\n  }, topic_name), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: {\n      pathname: '/courses/topics/rename',\n      module_id: module_id,\n      module_name: module_name\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 17\n    }\n  }, \"Rename \"), /*#__PURE__*/React.createElement(Link, {\n    to: {\n      pathname: '/topics/manage',\n      topic_id: topic_id\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 17\n    }\n  }, \"Manage \"), /*#__PURE__*/React.createElement(Link, {\n    onClick: () => removeTopic(topic_id),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 17\n    }\n  }, \"Remove\"))))));\n}\n\nexport default ManageCourse;","map":{"version":3,"sources":["/Users/nicholaspatrikeos/Sites/Gallifrey4.0/gallifrey-frontend/src/components/ManageCourse.js"],"names":["React","axios","Link","AuthContext","useStep","startReorder","finishReorder","ManageCourse","course_id","props","course","setCourse","useState","name","modules","token","useContext","fetchCourseData","getCourse","get","params","then","courseResponse","courseData","data","console","log","catch","err","removeTopic","topic_id","delete","response","window","location","reload","reorderTopics","step","pathname","course_name","map","topic_name","module_id","module_name","index"],"mappings":"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","sourcesContent":["import React from 'react'\nimport axios from 'axios'\nimport { Link } from 'react-router-dom'\nimport '../App.css'\nimport AuthContext from '../AuthContext'\nimport { useStep } from '../utils/update'\nimport { startReorder, finishReorder } from '../utils/helperFunctions'\n\nfunction ManageCourse({ course_id }, ...props) {\n\n  const [course, setCourse] = React.useState({\n    course_id: 0,\n    name: \"\",\n    modules: []\n  })\n\n  const token = React.useContext(AuthContext)\n\n  const fetchCourseData = () => {\n    const getCourse = axios.get('/courses/details', {params: { token, course_id }})\n      .then((courseResponse) => {\n        const courseData = courseResponse.data.course\n        console.log(courseData)\n        setCourse(courseData)\n      })\n      .catch((err) => {})\n  }\n\n  function removeTopic(topic_id) {\n      axios.delete('/courses/topics/delete', {data: { token, topic_id }})\n        .then((response) => {\n          const data = response.data\n          console.log(data)\n          window.location.reload()\n        })\n        .catch((err) => {})\n  }\n\n  function reorderTopics() {}\n\n  const step = useStep(fetchCourseData, [], 2)\n\n  return (\n    <>\n      <div className='headerSection'>\n        <h1>Courses</h1>\n      </div>\n\n      <h4>Title</h4>\n      <p id='courseTitle'>{course.name}</p>\n      <h4>Classes</h4>\n      <p id='courseClasses'>##TODO</p>\n\n      <h2>Topics</h2>\n      <Link to={{\n        pathname: '/courses/topics/add',\n        course_id: course_id,\n        course_name: course.name\n      }}>\n        <div class='teacherButton'>Add Topic</div>\n      </Link>\n      <div class='teacherButton' id='reorderTopicsButton' onClick={reorderTopics} name='notReordering'>Reorder Topics</div>\n\n      <hr />\n\n      <table id='topicList'>\n          <thead><td>Name</td><td>Topic</td><td>Actions</td></thead>\n          {course.modules.map(({ topic_id, topic_name, module_id, module_name }, index) => (\n            <tr id={topic_id}>\n              <td>{module_name}</td>\n              <td>{topic_name}</td>\n              <td>\n                <Link to={{\n                  pathname: '/courses/topics/rename',\n                  module_id: module_id,\n                  module_name: module_name\n                }}>Rename </Link>\n                <Link to={{\n                  pathname: '/topics/manage',\n                  topic_id: topic_id,\n                }}>Manage </Link>\n                <Link onClick={() => removeTopic(topic_id)}>Remove</Link>\n              </td>\n            </tr>\n          ))}\n      </table>\n\n    </>\n  )\n\n}\n\nexport default ManageCourse;\n"]},"metadata":{},"sourceType":"module"}