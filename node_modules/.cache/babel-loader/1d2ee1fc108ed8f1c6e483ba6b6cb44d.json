{"ast":null,"code":"import React from 'react';\nvar dragSrcEl;\nvar tableRows;\nexport function startReorder(tableID) {\n  tableRows = document.querySelectorAll(tableID);\n\n  for (var row = 1; row < tableRows.length; row++) {\n    tableRows[row].draggable = 'true';\n  }\n\n  [].forEach.call(tableRows, function (tableRow) {\n    tableRow.addEventListener('dragstart', handleDragStart, false);\n    tableRow.addEventListener('dragenter', handleDragEnter, false);\n    tableRow.addEventListener('dragover', handleDragOver, false);\n    tableRow.addEventListener('dragleave', handleDragLeave, false);\n    tableRow.addEventListener('drop', handleDrop, false);\n    tableRow.addEventListener('dragend', handleDragEnd, false);\n  });\n}\nexport function finishReorder(tableID) {\n  tableRows = document.querySelectorAll(tableID);\n\n  for (var row = 1; row < tableRows.length; row++) {\n    tableRows[row].draggable = 'false';\n  }\n\n  [].forEach.call(tableRows, function (tableRow) {\n    tableRow.removeEventListener('dragstart', handleDragStart, false);\n    tableRow.removeEventListener('dragenter', handleDragEnter, false);\n    tableRow.removeEventListener('dragover', handleDragOver, false);\n    tableRow.removeEventListener('dragleave', handleDragLeave, false);\n    tableRow.removeEventListener('drop', handleDrop, false);\n    tableRow.removeEventListener('dragend', handleDragEnd, false);\n  });\n}\n\nfunction handleDragStart(element) {\n  this.style.opacity = '0.4';\n  dragSrcEl = this;\n  element.dataTransfer.effectAllowed = 'none';\n  element.dataTransfer.setData('text/html', this.innerHTML);\n}\n\nfunction handleDragOver(element) {\n  if (element.preventDefault) {\n    element.preventDefault();\n  }\n\n  element.dataTransfer.dropEffect = 'move';\n  return false;\n}\n\nfunction handleDragEnter(element) {\n  this.classList.add('over');\n}\n\nfunction handleDragLeave(element) {\n  this.classList.remove('over');\n}\n\nfunction handleDrop(element) {\n  if (element.stopPropagation) {\n    element.stopPropagation();\n  }\n\n  if (dragSrcEl != this) {\n    dragSrcEl.innerHTML = this.innerHTML;\n    this.innerHTML = element.dataTransfer.getData('text/html');\n    dragSrcEl.id = this.id;\n    this.id = dragSrcEl.id;\n  }\n\n  return false;\n}\n\nfunction handleDragEnd(element) {\n  this.style.opacity = '1';\n  [].forEach.call(tableRows, function (tableRow) {\n    tableRow.classList.remove('over');\n  });\n  console.log('Drag Ended');\n}","map":{"version":3,"sources":["/Users/nicholaspatrikeos/Sites/Gallifrey4.0/gallifrey-frontend/src/utils/helperFunctions.js"],"names":["React","dragSrcEl","tableRows","startReorder","tableID","document","querySelectorAll","row","length","draggable","forEach","call","tableRow","addEventListener","handleDragStart","handleDragEnter","handleDragOver","handleDragLeave","handleDrop","handleDragEnd","finishReorder","removeEventListener","element","style","opacity","dataTransfer","effectAllowed","setData","innerHTML","preventDefault","dropEffect","classList","add","remove","stopPropagation","getData","id","console","log"],"mappings":"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","sourcesContent":["import React from 'react'\n\nvar dragSrcEl;\nvar tableRows;\n\nexport function startReorder(tableID) {\n  tableRows = document.querySelectorAll(tableID)\n\n  for (var row = 1; row < tableRows.length; row++) {\n    tableRows[row].draggable = 'true'\n  }\n\n  [].forEach.call(tableRows, function(tableRow) {\n    tableRow.addEventListener('dragstart', handleDragStart, false)\n    tableRow.addEventListener('dragenter', handleDragEnter, false)\n    tableRow.addEventListener('dragover', handleDragOver, false)\n    tableRow.addEventListener('dragleave', handleDragLeave, false)\n    tableRow.addEventListener('drop', handleDrop, false)\n    tableRow.addEventListener('dragend', handleDragEnd, false)\n  })\n}\n\nexport function finishReorder(tableID) {\n  tableRows = document.querySelectorAll(tableID)\n\n  for (var row = 1; row < tableRows.length; row++) {\n    tableRows[row].draggable = 'false'\n  }\n\n  [].forEach.call(tableRows, function(tableRow) {\n    tableRow.removeEventListener('dragstart', handleDragStart, false)\n    tableRow.removeEventListener('dragenter', handleDragEnter, false)\n    tableRow.removeEventListener('dragover', handleDragOver, false)\n    tableRow.removeEventListener('dragleave', handleDragLeave, false)\n    tableRow.removeEventListener('drop', handleDrop, false)\n    tableRow.removeEventListener('dragend', handleDragEnd, false)\n  })\n}\n\nfunction handleDragStart(element) {\n  this.style.opacity = '0.4'\n  dragSrcEl = this\n  element.dataTransfer.effectAllowed = 'none'\n  element.dataTransfer.setData('text/html', this.innerHTML)\n}\n\nfunction handleDragOver(element) {\n  if (element.preventDefault) {\n    element.preventDefault()\n  }\n\n  element.dataTransfer.dropEffect = 'move'\n\n  return false\n}\n\nfunction handleDragEnter(element) {\n  this.classList.add('over')\n}\n\nfunction handleDragLeave(element) {\n  this.classList.remove('over')\n}\n\nfunction handleDrop(element) {\n  if (element.stopPropagation) {\n    element.stopPropagation()\n  }\n\n   if (dragSrcEl != this) {\n    dragSrcEl.innerHTML = this.innerHTML\n    this.innerHTML = element.dataTransfer.getData('text/html')\n    dragSrcEl.id = this.id\n    this.id = dragSrcEl.id\n  }\n\n  return false\n}\n\nfunction handleDragEnd(element) {\n  this.style.opacity = '1';\n\n  [].forEach.call(tableRows, function(tableRow) {\n    tableRow.classList.remove('over')\n  })\n  console.log('Drag Ended')\n}\n"]},"metadata":{},"sourceType":"module"}