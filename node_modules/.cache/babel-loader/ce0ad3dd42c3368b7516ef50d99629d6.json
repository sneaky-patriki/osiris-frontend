{"ast":null,"code":"var _jsxFileName = \"/Users/nicholaspatrikeos/Sites/Gallifrey4.0/gallifrey-frontend/src/pages/CoursesViewPage.js\";\nimport React from 'react';\nimport Layout from '../components/Layout';\nimport '../App.css';\nimport AuthContext from '../AuthContext';\nimport { Link } from 'react-router-dom';\nimport axios from 'axios';\nimport { useStep } from '../utils/update';\n\nfunction CoursesViewPage(props) {\n  var course_id;\n\n  if (props.location.course_id != undefined) {\n    course_id = props.location.course_id;\n    localStorage.setItem('currentCourse', props.location.course_id);\n  } else {\n    course_id = localStorage.getItem('currentCourse');\n  }\n\n  const [course, setCourse] = React.useState({\n    course_id: 0,\n    name: \"\",\n    modules: []\n  });\n  const token = React.useContext(AuthContext);\n\n  const fetchCourseData = () => {\n    const getCourse = axios.get('/courses/details', {\n      params: {\n        token,\n        course_id\n      }\n    }).then(courseResponse => {\n      const courseData = courseResponse.data.course;\n      console.log(courseData);\n      setCourse(courseData);\n    }).catch(err => {});\n  };\n\n  function getTopic(module_id) {\n    for (var t = 0; t < course.modules.length; t++) {\n      if (course.modules[t].module_id == module_id) {\n        return course.modules[t];\n      }\n    }\n  }\n\n  function showTopic(module_id) {\n    var element = document.getElementById(module_id);\n    element.style.borderTop = '1px solid lightgray';\n    element.style.borderLeft = '1px solid lightgray';\n    element.style.borderRight = '1px solid lightgray';\n    var taskgroupList = document.getElementById('taskgroupList');\n    var topic = getTopic(module_id);\n    console.log(topic);\n\n    for (var tg = 0; tg < topic.taskgroups.length; tg++) {\n      var taskgroup = topic.taskgroups[tg];\n      console.log(taskgroup);\n      var taskgroupElement = /*#__PURE__*/React.createElement(\"span\", {\n        className: \"taskGroupList\",\n        name: \"undisplayed\",\n        id: taskgroup.taskgroup_id,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 31\n        }\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        class: \"taskGroupName\",\n        onClick: () => displayTaskgroup(taskgroup.taskgroup_id),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 31\n        }\n      }, taskgroup.name));\n      taskgroupList.innerHTML += taskgroupElement;\n    }\n  }\n\n  function displayTaskgroup() {}\n\n  const step = useStep(fetchCourseData, [], 2);\n  return /*#__PURE__*/React.createElement(Layout, {\n    navtype: \"teacher\",\n    body: /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      id: \"courseName\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 13\n      }\n    }, course.name)), /*#__PURE__*/React.createElement(\"hr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(\"table\", {\n      id: \"topicProgress\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 11\n      }\n    }, course.modules.map(({\n      module_name\n    }, index) => /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 13\n      }\n    }, module_name))), /*#__PURE__*/React.createElement(\"tr\", {\n      id: \"progressDashRow\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 11\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      id: \"topicTabs\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 9\n      }\n    }, course.modules.map(({\n      module_id,\n      module_name,\n      topic_id\n    }, index) => /*#__PURE__*/React.createElement(\"div\", {\n      class: \"topicTab\",\n      id: module_id,\n      onClick: () => showTopic(module_id),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 11\n      }\n    }, module_name))), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      id: \"taskgroupList\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      id: \"taskBox\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 13\n      }\n    }))),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 5\n    }\n  });\n}\n\nexport default CoursesViewPage;","map":{"version":3,"sources":["/Users/nicholaspatrikeos/Sites/Gallifrey4.0/gallifrey-frontend/src/pages/CoursesViewPage.js"],"names":["React","Layout","AuthContext","Link","axios","useStep","CoursesViewPage","props","course_id","location","undefined","localStorage","setItem","getItem","course","setCourse","useState","name","modules","token","useContext","fetchCourseData","getCourse","get","params","then","courseResponse","courseData","data","console","log","catch","err","getTopic","module_id","t","length","showTopic","element","document","getElementById","style","borderTop","borderLeft","borderRight","taskgroupList","topic","tg","taskgroups","taskgroup","taskgroupElement","taskgroup_id","displayTaskgroup","innerHTML","step","map","module_name","index","topic_id"],"mappings":"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","sourcesContent":["import React from 'react'\nimport Layout from '../components/Layout'\nimport '../App.css'\nimport AuthContext from '../AuthContext'\nimport { Link } from 'react-router-dom'\nimport axios from 'axios'\nimport { useStep } from '../utils/update'\n\nfunction CoursesViewPage(props) {\n\n  var course_id\n  if (props.location.course_id != undefined) {\n    course_id = props.location.course_id\n    localStorage.setItem('currentCourse', props.location.course_id)\n  } else {\n    course_id = localStorage.getItem('currentCourse')\n  }\n\n  const [course, setCourse] = React.useState({\n    course_id: 0,\n    name: \"\",\n    modules: []\n  })\n\n  const token = React.useContext(AuthContext)\n\n  const fetchCourseData = () => {\n    const getCourse = axios.get('/courses/details', {params: { token, course_id }})\n      .then((courseResponse) => {\n        const courseData = courseResponse.data.course\n        console.log(courseData)\n        setCourse(courseData)\n      })\n      .catch((err) => {})\n  }\n\n  function getTopic(module_id) {\n    for (var t = 0; t < course.modules.length; t++) {\n      if (course.modules[t].module_id == module_id) {\n        return course.modules[t]\n      }\n    }\n  }\n\n  function showTopic(module_id) {\n    var element = document.getElementById(module_id)\n    element.style.borderTop = '1px solid lightgray'\n    element.style.borderLeft = '1px solid lightgray'\n    element.style.borderRight = '1px solid lightgray'\n\n    var taskgroupList = document.getElementById('taskgroupList')\n    var topic = getTopic(module_id)\n    console.log(topic)\n\n    for (var tg = 0; tg < topic.taskgroups.length; tg++) {\n      var taskgroup = topic.taskgroups[tg]\n      console.log(taskgroup)\n      var taskgroupElement = (<span className='taskGroupList' name='undisplayed' id={taskgroup.taskgroup_id}>\n                              <span class='taskGroupName' onClick={() => displayTaskgroup(taskgroup.taskgroup_id)}>\n                              {taskgroup.name}\n                              </span></span>)\n      taskgroupList.innerHTML += taskgroupElement\n\n\n    }\n  }\n\n  function displayTaskgroup() {}\n\n  const step = useStep(fetchCourseData, [], 2)\n\n  return (\n    <Layout navtype='teacher' body={\n      <>\n        <div>\n            <h1 id='courseName'>{course.name}</h1>\n        </div>\n\n        <hr/>\n\n        <table id='topicProgress'>\n          <tr>\n          {course.modules.map(({ module_name }, index) => (\n            <td>{module_name}</td>\n          ))}\n          </tr>\n          <tr id='progressDashRow'>\n\n          </tr>\n\n        </table>\n\n        <div id='topicTabs'>\n        {course.modules.map(({ module_id, module_name, topic_id }, index) => (\n          <div class='topicTab' id={module_id} onClick={() => showTopic(module_id)}>\n            {module_name}\n          </div>\n        ))}\n        </div>\n\n        <div>\n            <div id='taskgroupList'>\n            </div>\n\n            <div id='taskBox'>\n            </div>\n        </div>\n    </>\n  }/>\n  )\n\n}\n\nexport default CoursesViewPage\n"]},"metadata":{},"sourceType":"module"}