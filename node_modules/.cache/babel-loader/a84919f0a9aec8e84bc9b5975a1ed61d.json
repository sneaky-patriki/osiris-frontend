{"ast":null,"code":"var _jsxFileName = \"/Users/nicholaspatrikeos/Sites/Gallifrey4.0/gallifrey-frontend/src/pages/TeacherDashboardPage.js\";\nimport React from 'react';\nimport Layout from '../components/Layout';\nimport axios from 'axios';\nimport { Link } from 'react-router-dom';\nimport AuthContext from '../AuthContext';\nimport { useStep } from '../utils/update';\n\nfunction TeacherDashboardPage(props) {\n  const [classes, setClasses] = React.useState([]);\n  const token = React.useContext(AuthContext);\n\n  const fetchClassesData = () => {\n    const getClasses = axios.get('/classes/teacher', {\n      params: {\n        token\n      }\n    }).then(classResponse => {\n      const classData = classResponse.data.classes;\n      console.log(classData);\n      setClasses(classData);\n    }).catch(err => {});\n  };\n\n  const step = useStep(fetchClassesData, [], 2);\n  return /*#__PURE__*/React.createElement(Layout, {\n    navtype: \"teacher\",\n    body: /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"teacherDashboardSection\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 30,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"h3\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 31,\n        columnNumber: 15\n      }\n    }, \"My Classes\"), /*#__PURE__*/React.createElement(\"hr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 32,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(\"table\", {\n      id: \"myClasses\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 33,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 34,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 34,\n        columnNumber: 23\n      }\n    }, \"Name\"), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 34,\n        columnNumber: 36\n      }\n    }, \"Actions\")), classes.map(({\n      class_id,\n      name\n    }, index) => /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 36,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 23\n      }\n    }, name), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(Link, {\n      to: {\n        pathname: '/classes/manage',\n        class_id: class_id\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 27\n      }\n    }, \"Manage\")))))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"teacherDashboardSection\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"h3\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 15\n      }\n    }, \"Recent Submissions\"), /*#__PURE__*/React.createElement(\"hr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(\"table\", {\n      id: \"recentSubmissions\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 23\n      }\n    }, \"Student\"), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 39\n      }\n    }, \"Task\"), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 52\n      }\n    }, \"Actions\")), classes.map(({\n      submissions\n    }, index) => /*#__PURE__*/React.createElement(React.Fragment, null, submissions.map(({\n      submission_id,\n      student,\n      task\n    }, index) => /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 27\n      }\n    }, student.name), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 27\n      }\n    }, task.name), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 27\n      }\n    }, /*#__PURE__*/React.createElement(Link, {\n      to: {\n        pathname: '/submissions/mark',\n        submission_id: submission_id\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 31\n      }\n    }, \"View Submission\"))))))))),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 26,\n      columnNumber: 5\n    }\n  });\n}\n\nexport default TeacherDashboardPage;","map":{"version":3,"sources":["/Users/nicholaspatrikeos/Sites/Gallifrey4.0/gallifrey-frontend/src/pages/TeacherDashboardPage.js"],"names":["React","Layout","axios","Link","AuthContext","useStep","TeacherDashboardPage","props","classes","setClasses","useState","token","useContext","fetchClassesData","getClasses","get","params","then","classResponse","classData","data","console","log","catch","err","step","map","class_id","name","index","pathname","submissions","submission_id","student","task"],"mappings":"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","sourcesContent":["import React from 'react'\nimport Layout from '../components/Layout'\nimport axios from 'axios'\nimport { Link } from 'react-router-dom';\nimport AuthContext from '../AuthContext'\nimport { useStep } from '../utils/update'\n\nfunction TeacherDashboardPage(props) {\n\n  const [classes, setClasses] = React.useState([])\n  const token = React.useContext(AuthContext)\n\n  const fetchClassesData = () => {\n    const getClasses = axios.get('/classes/teacher', {params: { token }})\n      .then((classResponse) => {\n        const classData = classResponse.data.classes\n        console.log(classData)\n        setClasses(classData)\n      })\n      .catch((err) => {})\n  }\n\n  const step = useStep(fetchClassesData, [], 2)\n\n  return (\n    <Layout\n      navtype=\"teacher\"\n      body={\n        <>\n          <div className='teacherDashboardSection'>\n              <h3>My Classes</h3>\n              <hr />\n              <table id='myClasses'>\n                  <tr><td>Name</td><td>Actions</td></tr>\n                  {classes.map(({ class_id, name }, index) => (\n                    <tr>\n                      <td>{name}</td>\n                      <td><Link to={{\n                        pathname: '/classes/manage',\n                        class_id: class_id\n                      }}>Manage</Link></td>\n                    </tr>\n                  ))}\n              </table>\n          </div>\n\n          <div className='teacherDashboardSection'>\n              <h3>Recent Submissions</h3>\n              <hr />\n              <table id='recentSubmissions'>\n                  <tr><td>Student</td><td>Task</td><td>Actions</td></tr>\n                  {classes.map(({ submissions }, index) => (\n                    <>\n                      {submissions.map(({ submission_id, student, task}, index) => (\n                        <tr>\n                          <td>{student.name}</td>\n                          <td>{task.name}</td>\n                          <td><Link to={{\n                            pathname: '/submissions/mark',\n                            submission_id: submission_id\n                          }}>View Submission</Link></td>\n                        </tr>\n                      ))}\n                    </>\n                  ))}\n              </table>\n          </div>\n        </>\n\n      }\n    />\n  );\n}\n\nexport default TeacherDashboardPage\n"]},"metadata":{},"sourceType":"module"}