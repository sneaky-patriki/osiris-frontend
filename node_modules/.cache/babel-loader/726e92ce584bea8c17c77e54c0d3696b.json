{"ast":null,"code":"var _jsxFileName = \"/Users/nicholaspatrikeos/Sites/Gallifrey4.0/gallifrey-frontend/src/pages/LoginPage.js\";\nimport React from 'react';\nimport axios from 'axios';\nimport '../App.css';\nimport Layout from '../components/Layout';\n\nfunction LoginPage({\n  setAuth,\n  ...props\n}) {\n  function handleSubmit(event) {\n    event.preventDefault();\n    const username = event.target[0].value;\n    const password = event.target[1].value;\n    if (!username || !password) return;\n    axios.post('/auth/login', {\n      username,\n      password\n    }).then(response => {\n      const data = response.data;\n      setAuth(data.token, data.u_id);\n\n      if (data.user_type == 'teacher') {\n        props.history.push('/teacher');\n      } else if (data.user_type == 'student') {\n        props.history.push('/student');\n      }\n    }).catch(err => {});\n  }\n\n  return /*#__PURE__*/React.createElement(Layout, {\n    navtype: \"\",\n    body: /*#__PURE__*/React.createElement(\"div\", {\n      id: \"logindiv\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 32,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 33,\n        columnNumber: 11\n      }\n    }, \"Login\"), /*#__PURE__*/React.createElement(\"form\", {\n      onSubmit: handleSubmit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 34,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      name: \"username\",\n      placeholder: \"*Username\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 35,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 36,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"password\",\n      name: \"password\",\n      placeholder: \"*Password\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"submit\",\n      value: \"Login\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 15\n      }\n    }))),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 5\n    }\n  });\n}\n\nexport default LoginPage;","map":{"version":3,"sources":["/Users/nicholaspatrikeos/Sites/Gallifrey4.0/gallifrey-frontend/src/pages/LoginPage.js"],"names":["React","axios","Layout","LoginPage","setAuth","props","handleSubmit","event","preventDefault","username","target","value","password","post","then","response","data","token","u_id","user_type","history","push","catch","err"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAO,YAAP;AACA,OAAOC,MAAP,MAAmB,sBAAnB;;AAEA,SAASC,SAAT,CAAmB;AAAEC,EAAAA,OAAF;AAAW,KAAGC;AAAd,CAAnB,EAA0C;AAExC,WAASC,YAAT,CAAsBC,KAAtB,EAA6B;AAC3BA,IAAAA,KAAK,CAACC,cAAN;AAEA,UAAMC,QAAQ,GAAGF,KAAK,CAACG,MAAN,CAAa,CAAb,EAAgBC,KAAjC;AACA,UAAMC,QAAQ,GAAGL,KAAK,CAACG,MAAN,CAAa,CAAb,EAAgBC,KAAjC;AAEA,QAAI,CAACF,QAAD,IAAa,CAACG,QAAlB,EAA4B;AAE5BX,IAAAA,KAAK,CAACY,IAAN,CAAW,aAAX,EAA0B;AAAEJ,MAAAA,QAAF;AAAYG,MAAAA;AAAZ,KAA1B,EACGE,IADH,CACSC,QAAD,IAAc;AAClB,YAAMC,IAAI,GAAGD,QAAQ,CAACC,IAAtB;AACAZ,MAAAA,OAAO,CAACY,IAAI,CAACC,KAAN,EAAaD,IAAI,CAACE,IAAlB,CAAP;;AAEA,UAAIF,IAAI,CAACG,SAAL,IAAkB,SAAtB,EAAiC;AAC/Bd,QAAAA,KAAK,CAACe,OAAN,CAAcC,IAAd,CAAmB,UAAnB;AACD,OAFD,MAEO,IAAIL,IAAI,CAACG,SAAL,IAAkB,SAAtB,EAAiC;AACtCd,QAAAA,KAAK,CAACe,OAAN,CAAcC,IAAd,CAAmB,UAAnB;AACD;AACF,KAVH,EAWGC,KAXH,CAWUC,GAAD,IAAS,CAAE,CAXpB;AAYD;;AAED,sBACE,oBAAC,MAAD;AAAQ,IAAA,OAAO,EAAC,EAAhB;AAAmB,IAAA,IAAI,eACrB;AAAK,MAAA,EAAE,EAAC,UAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eADJ,eAEI;AAAM,MAAA,QAAQ,EAAEjB,YAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAO,MAAA,IAAI,EAAC,MAAZ;AAAmB,MAAA,IAAI,EAAC,UAAxB;AAAmC,MAAA,WAAW,EAAC,WAA/C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,eAEI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFJ,eAGI;AAAO,MAAA,IAAI,EAAC,UAAZ;AAAuB,MAAA,IAAI,EAAC,UAA5B;AAAuC,MAAA,WAAW,EAAC,WAAnD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAHJ,eAII;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAJJ,eAKI;AAAO,MAAA,IAAI,EAAC,QAAZ;AAAqB,MAAA,KAAK,EAAC,OAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MALJ,CAFJ,CADF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF;AAeD;;AAED,eAAeH,SAAf","sourcesContent":["import React from 'react'\nimport axios from 'axios'\nimport '../App.css'\nimport Layout from '../components/Layout'\n\nfunction LoginPage({ setAuth, ...props }) {\n\n  function handleSubmit(event) {\n    event.preventDefault()\n\n    const username = event.target[0].value;\n    const password = event.target[1].value\n\n    if (!username || !password) return;\n\n    axios.post('/auth/login', { username, password })\n      .then((response) => {\n        const data = response.data\n        setAuth(data.token, data.u_id)\n\n        if (data.user_type == 'teacher') {\n          props.history.push('/teacher')\n        } else if (data.user_type == 'student') {\n          props.history.push('/student')\n        }\n      })\n      .catch((err) => {});\n  }\n\n  return (\n    <Layout navtype='' body={\n      <div id='logindiv'>\n          <h1>Login</h1>\n          <form onSubmit={handleSubmit}>\n              <input type='text' name='username' placeholder=\"*Username\" />\n              <br />\n              <input type='password' name='password' placeholder=\"*Password\" />\n              <br />\n              <input type='submit' value='Login' />\n          </form>\n      </div>\n    }/>\n  )\n\n}\n\nexport default LoginPage\n"]},"metadata":{},"sourceType":"module"}