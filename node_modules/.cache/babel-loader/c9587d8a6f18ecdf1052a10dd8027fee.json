{"ast":null,"code":"var _jsxFileName = \"/Users/nicholaspatrikeos/Sites/Gallifrey4.0/gallifrey-frontend/src/pages/TaskgroupsMovePage.js\";\nimport React from 'react';\nimport Layout from '../components/Layout';\nimport '../App.css';\nimport AuthContext from '../AuthContext';\nimport { Link } from 'react-router-dom';\nimport { useStep } from '../utils/update';\nimport axios from 'axios';\n\nfunction TaskgroupsMovePage(props) {\n  const token = React.useContext(AuthContext);\n  const [topics, setTopics] = React.useState([]);\n  var topic_id;\n\n  if (props.location.topic_id != undefined) {\n    localStorage.setItem('currentTopic', props.location.topic_id);\n    topic_id = props.location.topic_id;\n  } else {\n    topic_id = localStorage.getItem('currentTopic');\n  }\n\n  var taskgroup_id;\n\n  if (props.location.taskgroup_id != undefined) {\n    localStorage.setItem('currentTaskgroup', props.location.taskgroup_id);\n    taskgroup_id = props.location.taskgroup_id;\n  } else {\n    taskgroup_id = localStorage.getItem('currentTaskgroup');\n  }\n\n  const fetchTopicsData = () => {\n    const getTopics = axios.get('/topics/list', {\n      params: {\n        token\n      }\n    }).then(topicsResponse => {\n      const topicsData = topicsResponse.data.topics;\n      console.log(topicsData);\n      setTopics(topicsData);\n    });\n  };\n\n  const step = useStep(fetchTopicsData, [], 2);\n\n  function handleSubmit(event) {\n    event.preventDefault();\n    console.log(event.target);\n    const newTopic = event.target[0].value;\n    axios.put('/taskgroups/move', {\n      token,\n      taskgroup_id,\n      newTopic\n    }).then(response => {\n      const data = response.data;\n      console.log(data);\n      props.history.push('/topics/manage');\n    }).catch(err => {});\n  }\n\n  return /*#__PURE__*/React.createElement(Layout, {\n    navtype: \"teacher\",\n    body: /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n      class: \"headerSection\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 13\n      }\n    }, \"Task Groups\")), /*#__PURE__*/React.createElement(\"hr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(\"form\", {\n      onSubmit: handleSubmit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"h4\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 11\n      }\n    }, \"Task Group\"), /*#__PURE__*/React.createElement(\"select\", {\n      id: \"taskgroup_id\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 11\n      }\n    }, topics.map(({\n      topic_id,\n      name\n    }, index) => /*#__PURE__*/React.createElement(\"option\", {\n      value: topic_id,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 13\n      }\n    }, name))), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 20\n      }\n    }), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"submit\",\n      value: \"Move Task Group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 11\n      }\n    })), /*#__PURE__*/React.createElement(Link, {\n      to: \"/topics/manage\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 9\n      }\n    }, \"Cancel\")),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 5\n    }\n  });\n}\n\nexport default TaskgroupsMovePage;","map":{"version":3,"sources":["/Users/nicholaspatrikeos/Sites/Gallifrey4.0/gallifrey-frontend/src/pages/TaskgroupsMovePage.js"],"names":["React","Layout","AuthContext","Link","useStep","axios","TaskgroupsMovePage","props","token","useContext","topics","setTopics","useState","topic_id","location","undefined","localStorage","setItem","getItem","taskgroup_id","fetchTopicsData","getTopics","get","params","then","topicsResponse","topicsData","data","console","log","step","handleSubmit","event","preventDefault","target","newTopic","value","put","response","history","push","catch","err","map","name","index"],"mappings":"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","sourcesContent":["import React from 'react'\nimport Layout from '../components/Layout'\nimport '../App.css'\nimport AuthContext from '../AuthContext'\nimport { Link } from 'react-router-dom'\nimport { useStep } from '../utils/update'\nimport axios from 'axios'\n\nfunction TaskgroupsMovePage(props) {\n\n  const token = React.useContext(AuthContext)\n  const [topics, setTopics] = React.useState([])\n\n  var topic_id;\n  if (props.location.topic_id != undefined) {\n    localStorage.setItem('currentTopic', props.location.topic_id)\n    topic_id = props.location.topic_id\n  } else {\n    topic_id = localStorage.getItem('currentTopic')\n  }\n\n  var taskgroup_id;\n  if (props.location.taskgroup_id != undefined) {\n    localStorage.setItem('currentTaskgroup', props.location.taskgroup_id)\n    taskgroup_id = props.location.taskgroup_id\n  } else {\n    taskgroup_id = localStorage.getItem('currentTaskgroup')\n  }\n\n  const fetchTopicsData = () => {\n    const getTopics = axios.get('/topics/list', {params: { token }})\n    .then((topicsResponse) => {\n      const topicsData = topicsResponse.data.topics\n      console.log(topicsData)\n      setTopics(topicsData)\n    })\n  }\n\n  const step = useStep(fetchTopicsData, [], 2)\n\n  function handleSubmit(event) {\n    event.preventDefault()\n    console.log(event.target)\n    const newTopic = event.target[0].value\n\n    axios.put('/taskgroups/move', { token, taskgroup_id, newTopic })\n      .then((response) => {\n        const data = response.data\n        console.log(data)\n        props.history.push('/topics/manage')\n      })\n      .catch((err) => {})\n  }\n\n  return (\n    <Layout navtype='teacher' body={\n      <>\n        <div class='headerSection'>\n            <h1>Task Groups</h1>\n        </div>\n        <hr/>\n\n        <form onSubmit={handleSubmit} >\n          <h4>Task Group</h4>\n          <select id='taskgroup_id'>\n          {topics.map(({ topic_id, name }, index) => (\n            <option value={topic_id}>{name}</option>\n          ))}\n          </select><br/>\n          <input type='submit' value='Move Task Group'/>\n        </form>\n\n        <Link to='/topics/manage'>Cancel</Link>\n      </>\n    }/>\n  )\n}\n\nexport default TaskgroupsMovePage\n"]},"metadata":{},"sourceType":"module"}