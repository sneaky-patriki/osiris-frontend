{"ast":null,"code":"var _jsxFileName = \"/Users/nicholaspatrikeos/Sites/Gallifrey4.0/gallifrey-frontend/src/pages/ClassesListPage.js\";\nimport React from 'react';\nimport axios from 'axios';\nimport { Link } from 'react-router-dom';\nimport '../App.css';\nimport AuthContext from '../AuthContext';\nimport { useStep } from '../utils/update';\n\nfunction ClassesList() {\n  const [classes, setClasses] = React.useState([]);\n  const token = React.useContext(AuthContext);\n\n  const fetchClassesData = () => {\n    const getClasses = axios.get('/classes/list', {\n      params: {\n        token\n      }\n    }).then(classResponse => {\n      const classData = classResponse.data.classes;\n      console.log(classData);\n      setClasses(classData);\n    }).catch(err => {});\n  };\n\n  const step = useStep(fetchClassesData, [], 2);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 26,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"table\", {\n    id: \"classList\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 27,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 17\n    }\n  }, \"Title\"), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 31\n    }\n  }, \"Year\"), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 44\n    }\n  }, \"Course\"), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 59\n    }\n  }, \"Teachers\"), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 76\n    }\n  }, \"Actions\")), classes.map(({\n    class_id,\n    name,\n    year,\n    course,\n    teachers\n  }, index) => {\n    /*#__PURE__*/\n    React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 30,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 31,\n        columnNumber: 17\n      }\n    }, name), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 32,\n        columnNumber: 17\n      }\n    }, year), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 33,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Link, {\n      to: {\n        pathname: '/courses/manage',\n        course_id: course.course_id\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 33,\n        columnNumber: 21\n      }\n    }, course.name)), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 17\n      }\n    }, teachers.map((name, index) => /*#__PURE__*/React.createElement(React.Fragment, null, name, index != teachers.length - 1 ? ', ' : ''))));\n  })));\n}","map":{"version":3,"sources":["/Users/nicholaspatrikeos/Sites/Gallifrey4.0/gallifrey-frontend/src/pages/ClassesListPage.js"],"names":["React","axios","Link","AuthContext","useStep","ClassesList","classes","setClasses","useState","token","useContext","fetchClassesData","getClasses","get","params","then","classResponse","classData","data","console","log","catch","err","step","map","class_id","name","year","course","teachers","index","pathname","course_id","length"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,IAAT,QAAqB,kBAArB;AACA,OAAO,YAAP;AACA,OAAOC,WAAP,MAAwB,gBAAxB;AACA,SAASC,OAAT,QAAwB,iBAAxB;;AAEA,SAASC,WAAT,GAAuB;AAErB,QAAM,CAACC,OAAD,EAAUC,UAAV,IAAwBP,KAAK,CAACQ,QAAN,CAAe,EAAf,CAA9B;AACA,QAAMC,KAAK,GAAGT,KAAK,CAACU,UAAN,CAAiBP,WAAjB,CAAd;;AAEA,QAAMQ,gBAAgB,GAAG,MAAM;AAC7B,UAAMC,UAAU,GAAGX,KAAK,CAACY,GAAN,CAAU,eAAV,EAA2B;AAACC,MAAAA,MAAM,EAAE;AAAEL,QAAAA;AAAF;AAAT,KAA3B,EAChBM,IADgB,CACVC,aAAD,IAAmB;AACvB,YAAMC,SAAS,GAAGD,aAAa,CAACE,IAAd,CAAmBZ,OAArC;AACAa,MAAAA,OAAO,CAACC,GAAR,CAAYH,SAAZ;AACAV,MAAAA,UAAU,CAACU,SAAD,CAAV;AACD,KALgB,EAMhBI,KANgB,CAMTC,GAAD,IAAS,CAAE,CAND,CAAnB;AAOD,GARD;;AAUA,QAAMC,IAAI,GAAGnB,OAAO,CAACO,gBAAD,EAAmB,EAAnB,EAAuB,CAAvB,CAApB;AAEA,sBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAO,IAAA,EAAE,EAAC,WAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aAAJ,eAAkB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAAlB,eAA+B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAA/B,eAA8C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAA9C,eAA+D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eAA/D,CADJ,EAEKL,OAAO,CAACkB,GAAR,CAAY,CAAC;AAAEC,IAAAA,QAAF;AAAYC,IAAAA,IAAZ;AAAkBC,IAAAA,IAAlB;AAAwBC,IAAAA,MAAxB;AAAgCC,IAAAA;AAAhC,GAAD,EAA6CC,KAA7C,KAAuD;AAClE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAKJ,IAAL,CADF,eAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAKC,IAAL,CAFF,eAGE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAAI,oBAAC,IAAD;AAAM,MAAA,EAAE,EAAE;AACZI,QAAAA,QAAQ,EAAE,iBADE;AAEZC,QAAAA,SAAS,EAAEJ,MAAM,CAACI;AAFN,OAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAGAJ,MAAM,CAACF,IAHP,CAAJ,CAHF,eAOE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAKG,QAAQ,CAACL,GAAT,CAAa,CAACE,IAAD,EAAOI,KAAP,kBAAkB,0CAAGJ,IAAH,EAAWI,KAAK,IAAID,QAAQ,CAACI,MAAT,GAAkB,CAA5B,GAAiC,IAAjC,GAAwC,EAAlD,CAA/B,CAAL,CAPF;AASD,GAVA,CAFL,CADJ,CADF;AAkBD","sourcesContent":["import React from 'react'\nimport axios from 'axios'\nimport { Link } from 'react-router-dom';\nimport '../App.css'\nimport AuthContext from '../AuthContext'\nimport { useStep } from '../utils/update'\n\nfunction ClassesList() {\n\n  const [classes, setClasses] = React.useState([])\n  const token = React.useContext(AuthContext)\n\n  const fetchClassesData = () => {\n    const getClasses = axios.get('/classes/list', {params: { token }})\n      .then((classResponse) => {\n        const classData = classResponse.data.classes\n        console.log(classData)\n        setClasses(classData)\n      })\n      .catch((err) => {})\n  }\n\n  const step = useStep(fetchClassesData, [], 2)\n\n  return (\n    <div>\n        <table id='classList'>\n            <tr><td>Title</td><td>Year</td><td>Course</td><td>Teachers</td><td>Actions</td></tr>\n            {classes.map(({ class_id, name, year, course, teachers }, index) => {\n              <tr>\n                <td>{name}</td>\n                <td>{year}</td>\n                <td><Link to={{\n                  pathname: '/courses/manage',\n                  course_id: course.course_id\n                }}>{course.name}</Link></td>\n                <td>{teachers.map((name, index) => (<>{name}{ (index != teachers.length - 1) ? ', ':  ''}</>))}</td>\n              </tr>\n            })}\n        </table>\n    </div>\n  )\n}\n"]},"metadata":{},"sourceType":"module"}